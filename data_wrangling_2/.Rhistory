setwd("~/workspace/found_data_sci/data_wrangling_2")
titanic3 <- read.table("~/workspace/found_data_sci/data_wrangling_2/titanic3.xls", header=TRUE, quote="\"")
View(titanic3)
titanic3 <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic3.csv")
View(titanic3)
install_packages("MacText")
install.packages("MacText")
titanic3 <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic3.csv") na.strings='NULL'
to_string(titanic3$embarked)
titanic3$embarked
unique(titanic3$embarked)
test <- function(x) {}
test <- function(x) {
x[sapply(titanic3$embarked, is.null)] <- NA
return(x)
}
test
x
sapply(titanic3$embarked, is.null)] <- NA
sapply(titanic3$embarked, is.null) <- NA
knitr::opts_chunk$set(echo = TRUE)
library(tidyr)
library(dplyr)
refine_df <- refine_df %>%
mutate(first_letter = substr(tolower(company),1,1)) %>%
mutate(company = ifelse(first_letter == "p", "philips",
ifelse(first_letter == "f", "philips",
ifelse(first_letter == "a", "akzo",
ifelse(first_letter == "v", "van houten",
ifelse(first_letter == "u", "unilever","unknown")))))
refine_df$company
refine_df <- refine_df %>%
mutate(company = ifelse(first_letter == "p", "philips",
ifelse(first_letter == "f", "philips",
ifelse(first_letter == "a", "akzo",
ifelse(first_letter == "v", "van houten",
ifelse(first_letter == "u", "unilever","unknown")))))
refine_df$company
# title: "Data Wrangling 1"
# title: "Data Wrangling 1"
source('~/workspace/found_data_sci/data_wrangling_1/dw1.R', echo=TRUE)
setwd("~/workspace/found_data_sci/data_wrangling_1")
source('~/workspace/found_data_sci/data_wrangling_1/dw1.R', echo=TRUE)
source('~/workspace/found_data_sci/data_wrangling_1/dw1.R', echo=TRUE)
source('~/workspace/found_data_sci/data_wrangling_1/dw1.R', echo=TRUE)
source('~/workspace/found_data_sci/data_wrangling_1/dw1.R', echo=TRUE)
refine_df$company
library(tidyr)
library(dplyr)
refine_original <- read.csv("refine_original.csv")
refine_df <- tbl_df(refine_original)
knitr::opts_chunk$set(echo = TRUE)
{r, echo=FALSE}
library(tidyr)
library(dplyr)
install("lapply")
install.packages("lapply")
m <- matrix(data=cbind(rnorm(30, 0), rnorm(30, 2), rnorm(30, 5)), nrow=30, ncol=3)
m
apply(m,1,mean)
apply(m,2,mean)
pioneers <- c("GAUSS:1777", "BAYES:1702", "PASCAL:1623", "PEARSON:1857")
split_math <- strsplit(pioneers, split = ":")
split_math
split_low <- lapply(split_math, tolower)
split_low
str(split_low)
select_first <- function(x) {
x[1]
}
names <- lapply(split_low, select_first)
names
select_second <- function(x) {
x[2]
}
years <- lapply(split_low, select_second)
years
lapply(list(1,2,3), function(x) { 3 * x })
multiply <- function(x, factor) {
x * factor
}
lapply(list(1,2,3), multiply, factor = 3)
abs(years)
vec1 <- c(1.5, 2.5, 8.4, 3.7, 6.3)
vec2 <- rev(vec1)
abs(vec1)
sum(vec1)
mean(vec1)
round(vec1)
sort(years)
sort(vec1)
rev(vec1)
append(vec1,"9.6")
is.array(vec1)
vec3 <- as.array(vec1)
vec3
is.array(vec3)
linkedin <- list(16, 9, 13, 5, 2, 17, 14)
facebook <- list(17, 7, 5, 16, 8, 13, 14)
linkedin
li_vec <- unlist(linkedin)
fb_vec <-as.vector(facebook)
social_vec <- append(li_vec, fb_vec)
social_vec
print(sort(social_vec, decreasing = TRUE))
is.vector(social_vec)
is.vector(fb_vec)
Sys.time()
knitr::opts_chunk$set(echo = TRUE)
library(tidyr)
library(dplyr)
titanic3 <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic_original.csv")
titanic3 <- read.csv("titanic_original.csv")
titanic3 <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic_original.csv")
titanic3 <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic_original.csv")
titanic3
titanic3 <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic3.csv")
test <- function(x) {
x[sapply(titanic3$embarked, is.null)] <- NA
return(x)
}
}
test <- function(x) {
x[sapply(titanic3$embarked, is.null)] <- NA
return(x)
}
test
titanic3$embarked
is.na(titanic3$embarked)
install.packages("nycflights13")
?airlines
library(nycflights13)
knitr::opts_chunk$set(echo = TRUE)
library(tidyr)
library(dplyr)
titanic3 <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic3.csv")
data(titanic3)
data(titanic3)
dplyr::tbl(titanic3)
str(titanic3)
view(titanic3)
View(titanic3)
tb %>% select(titanic3:name)
tb %>% select(titanic3$name)
library(dplyr)
tbl(titanic3)
str(titanic3)
View(titanic3)
titanic3 <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic3.csv")
titanic <- data.frame(titanic3)
titanic <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic3.csv", head= TRUE, sep = ",")
str(titanic)
knitr::kable(titanic)
knitr::kable(titanic)
test <- function(x) {
x[sapply(titanic$embarked, is.null)] <- NA
return(x)
}
titanic$embarked
test <- function(x) {
x[sapply(titanic$embarked, is.null)] <- NA
x[sapply(titanic$embarked, "")] <- NA
return(x)
}
titanic$embarked
test <- function(x) {
x[sapply(titanic$embarked, is.null)] <- NA
x[sapply(titanic$embarked, "")] <- NA
x[sapply(titanic$embarked, " ")] <- NA
return(x)
}
titanic$embarked
is.na(titanic$embarked)
library("dplyr", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
library("knitr", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
library("tidyr", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
install.packages(c("BH", "DBI", "digest", "evaluate", "jsonlite", "knitr", "mgcv", "R6", "Rcpp", "stringi", "survival", "tidyr", "yaml"))
knitr::opts_chunk$set(echo = TRUE)
library(tidyr)
library(dplyr)
library(tidyr)
library(dplyr)
titanic <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic_original.csv", head= TRUE, sep = ",")
str(titanic)
knitr::kable(titanic)
titanic_original <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic_original.csv", head= TRUE, sep = ",")
titanic <- tbl_df(titanic_original)
str(titanic)
titanic
titanic$embarked
titanic_test <- titanic %>%
mutate(embarked = ifelse(" ","X")
)
titanic_test
titanic_test
titanic_test$embarked
titanic_test <- titanic %>%
mutate(embarked = ifelse("","X")
)
titanic_test
titanic_test <- titanic %>%
mutate(embarked = ifelse("","X")
)
titanic_test$embarked
titanic_test <- titanic
titanic_test$embarked
unique(titanic$embarked, incomparables = FALSE)
titanic_original <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic_original.csv", head= TRUE, sep = ",",blank.lines.skip = TRUE, strip.white = TRUE, na.strings=c("NA","NaN", ""))
titanic <- tbl_df(titanic_original)
titanic_test$embarked
titanic_original <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic_original.csv", head= TRUE, sep = ",",blank.lines.skip = TRUE, strip.white = TRUE, na.strings=c("NA","NaN", ""," "))
titanic <- tbl_df(titanic_original)
titanic_test$embarked
test <- function(x) {
x[sapply(titanic$embarked, is.null)] <-"S"
return(x)
}
titanic_test$embarked
titanic$embarked[is.na(titanic$embarked)] <- 'S'
titanic_test$embarked
titanic <- titanic$embarked[is.na(titanic$embarked)] <- 'S'
titanic_test$embarked
names(titanic)
glimpse(titanic)
levles(titanic)
levels(titanic)
levels(titanic$embarked)
levels(titanic$embarked)
is.factor(titanic$embarked)
is.factor(titanic$embarked)
is.factor(titanic)
is.na(titanic$embarked)
factor(is.na(titanic$embarked))
titanic$embarked
titanic$embarked
titanic_original <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic_original.csv", head= TRUE, sep = ",",blank.lines.skip = TRUE, strip.white = TRUE, na.strings=c("NA","NaN", ""," "))
titanic <- tbl_df(titanic_original)
titanic$embarked
titanic_test <- titanic %>%
mutate(embarked = is.na(embarked), "S")
titanic_test
titanic_test$embarked
titanic_original <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic_original.csv", head= TRUE, sep = ",",blank.lines.skip = TRUE, strip.white = TRUE, na.strings=c("NA","NaN", ""," "))
titanic <- tbl_df(titanic_original)
titanic$embarked[titanic$embarked == ""] <- "S"
titanic$embarked
is.na(titanic$embarked) <- '++'
titanic_original <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic_original.csv", head= TRUE, sep = ",",blank.lines.skip = TRUE, strip.white = TRUE, na.strings=c("NA","NaN", ""," "))
titanic <- tbl_df(titanic_original)
is.na(titanic$embarked)
test <- function(x) {
x[sapply(titanic$embarked, is.na)] <-"S"
return(x)
}
test()
test(x)
test <- function(x) {
x[sapply(x, is.na)] <-"S"
return(x)
}
test(titanic$embarked)
titanic$embarked
titanic$embarked
test(titanic$embarked)
embarked2 <- sapply(titanic$embarked, is.na, factor = 'S'
embarked2
titanic$embarked2 <- sapply(titanic$embarked, is.na, factor = 'S'
)
replace_embark <- function(x) {
x[sapply(x, is.na)] <-"S"
return(x)
}
titanic$embarked <- replace_embark(titanic$embarked)
titanic$embarked
titanic$age
titanic$age_mean <- mean(titanic$age)
titanic$age_mean
titanic$age_mean <- mean(titanic$age, na.rm = TRUE)
titanic$age_mean
titanic$mean_test <- ifelse(is.na(titanic$age), mean(titanic$age, na.rm = TRUE))
titanic$mean_test <- ifelse(is.na(titanic$age), mean(titanic$age, na.rm = TRUE),titanic$age)
titanic$mean_test
titanic$age
library(tidyr)
library(dplyr)
# Load CSV file and create a data frame
titanic_original <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic_original.csv", head= TRUE, sep = ",",blank.lines.skip = TRUE, strip.white = TRUE, na.strings=c("NA","NaN", ""," "))
titanic <- tbl_df(titanic_original)
# str(titanic)
# 1: Port of embarkation
replace_embark <- function(x) {
x[sapply(x, is.na)] <-"S"
return(x)
}
titanic$embarked <- replace_embark(titanic$embarked)
titanic$embarked
# 2: Age
# Youâ€™ll notice that a lot of the values in the Age column are missing. While there are many ways to fill these missing values,
# using the mean or median of the rest of the values is quite common in such cases.
# 1. Calculate the mean of the Age column and use that value to populate the missing values
# 2. Think about other ways you could have populated the missing values in the age column. Why would you pick any of those over the mean (or not)?
titanic$age <- ifelse(is.na(titanic$age), mean(titanic$age, na.rm = TRUE),titanic$age)
titanic$age
titanic$median_age <- median(titanic$age, na.rm = TRUE)
titanic$median_age
mean(titanic$age, na.rm = TRUE)
median(titanic$age, na.rm = TRUE)
titanic$boat
unique(titanic$boat)
View(titanic)
titanic$boat <- ifelse(is.na(titanic$boat), "NB", titanic$boat)
View(titanic)
titanic$has_cabin_number <- ifelse(is.na(titanic$cabin,1,0))
titanic$has_cabin_number <- ifelse(is.na(titanic$cabin),1,0))
titanic$has_cabin_number <- ifelse(is.na(titanic$cabin),1,0)
titanic$has_cabin_number
titanic$has_cabin_number2 <-as.numeric(titanic$cabin)
titanic$has_cabin_number2
titanic$has_cabin_number2 <-as.numeric(!is.na(titanic$cabin))
titanic$has_cabin_number2
library(dplyr)
library(dplyr)
library(dplyr)
source('~/workspace/found_data_sci/data_wrangling_2/dw2.R', echo=TRUE)
View(titanic)
write.csv(titanic, file="titanic_clean.csv")
titanic$age <- ifelse(is.na(titanic$age), mean(titanic$age, na.rm = TRUE),titanic$age)
titanic$age
knitr::opts_chunk$set(echo = TRUE)
# library(tidyr)
library(dplyr)
titanic_original <- read.csv("~/workspace/found_data_sci/data_wrangling_2/titanic_original.csv", head= TRUE, sep = ",",blank.lines.skip = TRUE, strip.white = TRUE, na.strings=c("NA","NaN", ""," "))
titanic <- tbl_df(titanic_original)
mean(titanic$age, na.rm = TRUE)
median(titanic$age, na.rm = TRUE)
